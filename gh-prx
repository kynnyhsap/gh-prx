#!/usr/bin/env bash
set -euo pipefail

ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

if command -v bun >/dev/null 2>&1; then
  exec bun run --silent "$ROOT_DIR/src/cli/index.ts" "$@"
fi

if command -v node >/dev/null 2>&1; then
  exec node --experimental-strip-types "$ROOT_DIR/src/cli/index.ts" "$@"
fi

echo "error: neither bun nor node was found in PATH" >&2
exit 1
